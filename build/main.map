{"version":3,"sources":["webpack:///webpack/bootstrap 7fa06bd687f096fdeac6","webpack:///./~/_babel-runtime@6.26.0@babel-runtime/regenerator/index.js","webpack:///external \"mongoose\"","webpack:///./apis/config/mongo.js","webpack:///./apis/controllers/blog.js","webpack:///./nuxt.config.js","webpack:///external \"koa\"","webpack:///external \"koa-bodyparser\"","webpack:///external \"nuxt\"","webpack:///./apis/config/index.js","webpack:///./apis/models/blog.js","webpack:///external \"autoprefixer\"","webpack:///external \"koa-router\"","webpack:///external \"lodash\"","webpack:///external \"regenerator-runtime\"","webpack:///./server/index.js"],"names":["opendb","uri","connection","mongoose","on","console","error","bind","log","options","autoIndex","reconnectTries","Number","MAX_VALUE","reconnectInterval","poolSize","bufferMaxEntries","keepAlive","connect","router","Router","prefix","get","ctx","next","request","query","types","docs","Blog","find","status","isPublic","split","type","$in","_types","tags","map","x","push","body","blogs","message","name","distinctType","post","title","content","storeAt","Date","updateAt","create","doc","blog","module","exports","head","titleTemplate","meta","charset","hid","link","rel","href","css","loading","color","build","postcss","require","browsers","babel","plugins","libraryName","styleLibraryName","vendor","src","ssr","config","label","value","disabled","Schema","blogSchema","String","Array","Boolean","virtual","_status_name","methods","findSimilarType","model","statics","params","distinct","temp","Config","y","blogModel","app","host","process","env","HOST","port","PORT","mongo","use","bodyParser","dev","nuxt","builder","Promise","resolve","reject","res","render","req","promise","then","catch","listen","start"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 14);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7fa06bd687f096fdeac6","module.exports = require(\"regenerator-runtime\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_babel-runtime@6.26.0@babel-runtime/regenerator/index.js\n// module id = 0\n// module chunks = 0","module.exports = require(\"mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose\"\n// module id = 1\n// module chunks = 0","import mongoose from 'mongoose';\n\nconst opendb = async (uri = 'mongodb://localhost/website') => {\n  try {\n\n    const connection = mongoose.connection;\n    connection.on('error', console.error.bind(console, 'connection error: --> '));\n    connection.on('open', console.log.bind(console, 'connection open: --> '));\n    // mongoose.set('bufferCommands', false);\n\n    const options = {\n      // useMongoClient: true,\n      autoIndex: false, // Don't build indexes\n      reconnectTries: Number.MAX_VALUE, // Never stop trying to reconnect\n      reconnectInterval: 500, // Reconnect every 500ms\n      poolSize: 10, // Maintain up to 10 socket connections\n      // If not connected, return errors immediately rather than waiting for reconnect\n      bufferMaxEntries: 0,\n      keepAlive: true,\n    };\n    await mongoose.connect(uri, options);\n\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nexport default opendb;\n\n\n// WEBPACK FOOTER //\n// ./apis/config/mongo.js","import * as Router from 'koa-router'\nimport Blog from '../models/blog'\nimport * as _ from 'lodash'\n\n\nlet router = Router({\n  prefix: '/apis'\n});\n\nrouter.get('/blogs', async (ctx, next) => {\n  try {\n    console.log(ctx.request.query);\n    let { types } = ctx.request.query;\n    let docs = [];\n    if (typeof types === 'undefined') {\n      docs = await Blog.find({ status: 0, isPublic: true });\n    } else {\n      types = types.split(',');\n      docs = await Blog.find({ status: 0, isPublic: true, type: { $in: types } });\n    }\n    console.log(docs);\n    let _types = [], tags = [];\n    docs.map(x => {\n      x.tags ? tags = _.concat(tags, x.tags) : '';\n      x.type ? _types.push(x.type) : '';\n    })\n    _types = _.uniq(_types);\n    tags = _.uniq(tags);\n    ctx.body = {\n      status: 'success',\n      blogs: docs,\n      types: _types,\n      tags\n    }\n  } catch (error) {\n    console.error(error);\n    ctx.body = {\n      status: 'error',\n      message: error.name\n    }\n  }\n});\n\nrouter.get('/drafts', async (ctx, next) => {\n  try {\n    let docs = await Blog.find({ status: 1, isPublic: true });\n    console.log(docs);\n    ctx.body = {\n      status: 'success',\n      blogs: docs\n    }\n  } catch (error) {\n    console.error(error);\n    ctx.body = {\n      status: 'error',\n      message: error.name\n    }\n  }\n});\n\nrouter.get('/types', async (ctx, next) => {\n  try {\n    let docs = await Blog.distinctType({ status: 0, isPublic: true });\n    console.log(docs);\n    ctx.body = {\n      status: 'success',\n      types: docs\n    }\n  } catch (error) {\n    console.error(error);\n    ctx.body = {\n      status: 'error',\n      message: error.name\n    }\n  }\n});\n\nrouter.post('/blog/publish', async (ctx, next) => {\n  console.log(ctx.request.body);\n  try {\n    let { title, tags, type, content, isPublic, status = 0, storeAt = new Date(), updateAt = new Date() } = ctx.request.body;\n    let doc = await Blog.create({ title, tags, type, content, isPublic, status, storeAt, updateAt });\n    console.log(doc);\n    ctx.body = {\n      status: 'success',\n      blog: doc\n    }\n  } catch (error) {\n    console.error(error);\n    ctx.body = {\n      status: 'error',\n      message: error.name\n    }\n  }\n});\n\nrouter.post('/blog/draft', async (ctx, next) => {\n  console.log(ctx.request.body);\n  try {\n    let { title, tags, type, content, isPublic, status = 1, storeAt = new Date(), updateAt = new Date() } = ctx.request.body;\n    let doc = await Blog.create({ title, tags, type, content, isPublic, status, storeAt, updateAt });\n    console.log(doc);\n    ctx.body = {\n      status: 'success',\n      doc\n    }\n  } catch (error) {\n    ctx.body = {\n      status: 'error',\n      message: error.name\n    }\n  }\n});\n\nmodule.exports = router;\n\n\n\n// WEBPACK FOOTER //\n// ./apis/controllers/blog.js","module.exports = {\n  /*\n  ** Headers of the page\n  */\n  head: {\n    title: 'soonfy personal website',\n    titleTemplate: '%s - soonfy',\n    meta: [\n      { charset: 'utf-8' },\n      { name: 'viewport', content: 'width=device-width, initial-scale=1' },\n      { hid: 'keywords', name: 'keywords', content: 'nuxt,vue,koa,element-ui,echarts,socket.io' },\n      { hid: 'description', name: 'description', content: 'soonfy personal website' }\n    ],\n    link: [\n      { rel: 'icon', type: 'image/x-icon', href: '/favicon.ico' }\n    ]\n  },\n  /*\n  ** Global CSS\n  */\n  css: ['~assets/css/reset.css',\n    '~assets/css/main.css',\n    'element-ui/lib/theme-chalk/index.css'\n  ],\n  /*\n  ** Customize the progress-bar color\n  */\n  loading: { color: '#3B8070' },\n  /*\n   ** Build configuration\n   */\n  build: {\n    /*\n     ** Run ESLINT on save\n     */\n    // extend(config, ctx) {\n    //   if (ctx.isClient) {\n    //     config.module.rules.push({\n    //       enforce: 'pre',\n    //       test: /\\.(js|vue)$/,\n    //       loader: 'eslint-loader',\n    //       exclude: /(node_modules)/\n    //     })\n    //   }\n    // },\n    postcss: [\n      require('autoprefixer')({\n        browsers: ['last 3 versions', 'Android >= 4.4', 'iOS >= 6']\n      })\n    ],\n    babel: {\n      plugins: [['component', [{\n        libraryName: 'element-ui',\n        styleLibraryName: 'theme-chalk'\n      }]]]\n    },\n    vendor: ['element-ui', 'axios', 'lodash', 'moment', 'echarts']\n  },\n  plugins: [\n    { src: '~plugins/middle', ssr: true },\n    { src: '~plugins/css', ssr: true },\n    { src: '~plugins/method', ssr: true },\n    { src: '~plugins/property', ssr: true },\n  ]\n}\n\n\n\n// WEBPACK FOOTER //\n// ./nuxt.config.js","module.exports = require(\"koa\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa\"\n// module id = 5\n// module chunks = 0","module.exports = require(\"koa-bodyparser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-bodyparser\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"nuxt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nuxt\"\n// module id = 7\n// module chunks = 0","const config = {\n  types: [{\n    label: '前端',\n    value: 'frontend'\n  }, {\n    label: '服务端',\n    value: 'server',\n    disabled: true\n  }, {\n    label: '数据分析',\n    value: 'analysis'\n  }, {\n    label: '其它',\n    value: 'other'\n  }]\n};\n\nexport default config\n\n\n// WEBPACK FOOTER //\n// ./apis/config/index.js","import mongoose from 'mongoose'\nconst Schema = mongoose.Schema;\n\nimport Config from '../config/index'\n\nconst blogSchema = new Schema({\n  title: String,\n  tags: Array,\n  type: String,\n  content: String,\n  isPublic: Boolean,\n  status: Number, // 0 - blog, 1 - draft, 2 - delete\n  storeAt: Date,\n  updateAt: Date,\n})\n\nblogSchema.virtual('getStatusName').get(function () {\n  let _status_name = '';\n  switch (this.status) {\n    case 0:\n      _status_name = '已发表';\n      break;\n    case 1:\n      _status_name = '草稿';\n      break;\n    case 2:\n      _status_name = '已删除';\n      break;\n    default:\n      _status_name = '未知状态';\n      break;\n  }\n  return _status_name;\n});\n\n// 实例方法\nblogSchema.methods.findSimilarType = async function () {\n  return await this.model('BLOG').find({ type: this.type });\n};\n\n// 模型方法\nblogSchema.statics.findSimilarType = async function (type) {\n  return await this.find({ type: type });\n};\nblogSchema.statics.distinctType = async function (params) {\n  let _types = await this.distinct('type', params);\n  return _types.map(x => {\n    let temp = null;\n    Config.types.map(y => {\n      if (y.value === x) {\n        temp = y\n      }\n    })\n    return temp;\n  })\n};\n\nconst blogModel = mongoose.model('BLOG', blogSchema, 'blogs');\n\nexport default blogModel;\n\n\n// WEBPACK FOOTER //\n// ./apis/models/blog.js","module.exports = require(\"autoprefixer\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"autoprefixer\"\n// module id = 10\n// module chunks = 0","module.exports = require(\"koa-router\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-router\"\n// module id = 11\n// module chunks = 0","module.exports = require(\"lodash\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash\"\n// module id = 12\n// module chunks = 0","module.exports = require(\"regenerator-runtime\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"regenerator-runtime\"\n// module id = 13\n// module chunks = 0","import Koa from 'koa'\nimport { Nuxt, Builder } from 'nuxt'\nimport * as bodyParser from 'koa-bodyparser'\n\nimport * as blog from '../apis/controllers/blog';\nimport mongo from '../apis/config/mongo';\n\nasync function start() {\n  const app = new Koa()\n  const host = process.env.HOST || '127.0.0.1'\n  const port = process.env.PORT || 3000\n\n  await mongo();\n  app.use(bodyParser());\n  app.use(blog.routes());\n  app.use(blog.allowedMethods());\n\n  // Import and Set Nuxt.js options\n  let config = require('../nuxt.config.js')\n  config.dev = !(app.env === 'production')\n\n  // Instantiate nuxt.js\n  const nuxt = new Nuxt(config)\n\n  // Build in development\n  if (config.dev) {\n    const builder = new Builder(nuxt)\n    await builder.build()\n  }\n\n  app.use(async (ctx, next) => {\n    await next()\n    ctx.status = 200 // koa defaults to 404 when it sees that status is unset\n    return new Promise((resolve, reject) => {\n      ctx.res.on('close', resolve)\n      ctx.res.on('finish', resolve)\n      nuxt.render(ctx.req, ctx.res, promise => {\n        // nuxt.render passes a rejected promise into callback on error.\n        promise.then(resolve).catch(reject)\n      })\n    })\n  })\n\n  app.listen(port, host)\n  console.log('Server listening on ' + host + ':' + port) // eslint-disable-line no-console\n}\n\nstart()\n\n\n\n// WEBPACK FOOTER //\n// ./server/index.js"],"sourceRoot":""}